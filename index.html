<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Poké Haven – Recipes</title>
  <style>
    :root { --bg:#0e0e10; --paper:#f8f5ee; --ink:#1a1a1a; --gold:#d4af37; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 800px at 70% -10%,#1a1a1f,var(--bg));color:var(--ink);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;display:grid;place-items:center;padding:clamp(8px,2vw,24px)}
    .wrap{width:min(1200px,96vw)}
    .book{position:relative;width:100%;aspect-ratio:3/2;background:linear-gradient(90deg,#231f20,#2a2627);border-radius:18px;padding:clamp(8px,1.3vw,16px);box-shadow:0 30px 60px rgba(0,0,0,.55),inset 0 0 0 2px rgba(212,175,55,.25);display:grid;grid-template-columns:1fr 1fr;gap:clamp(8px,1vw,14px);perspective:1600px;overflow:hidden}
    .spine{position:absolute;inset:0;pointer-events:none}
    .spine:before{content:"";position:absolute;inset:0;width:3px;left:50%;transform:translateX(-50%);background:linear-gradient(#00000080,#0000);filter:blur(.3px);opacity:.6}
    .page{position:relative;overflow:clip;border-radius:14px;background:var(--paper);box-shadow:0 10px 30px rgba(0,0,0,.3);display:grid;grid-template-rows:1fr}
    .page:after{content:"";position:absolute;inset:0;mixed-blend-mode:multiply;opacity:.07;background:repeating-linear-gradient(90deg,#0000 0 6px,#0001 6px 7px);pointer-events:none}
    .media{position:relative;overflow:hidden;display:grid;place-items:center;background:linear-gradient(135deg,#ece7dc,#f7f4ee);min-height:0}
    .media img{width:100%;height:100%;object-fit:contain;display:block}
    .media .fallback{color:#777;font-size:.95rem}
    .nav{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;pointer-events:none}
    .btn{pointer-events:auto;border:none;cursor:pointer;width:56px;height:56px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ffffff,#f1f1f1);border:1px solid #00000014;box-shadow:0 10px 20px #00000040;display:grid;place-items:center;transition:transform .08s ease,box-shadow .2s}
    .btn:active{transform:translateY(1px) scale(.98);box-shadow:0 6px 14px #00000055}
    .btn svg{width:26px;height:26px}
    .bar{margin:12px auto 0;width:min(1200px,96vw);display:flex;justify-content:space-between;align-items:center;color:#ddd}
    .brand{color:var(--gold);font-weight:600;letter-spacing:.4px}
    .pager{font-size:.9rem;color:#cfcfcf}
    @media (max-width:800px){.book{aspect-ratio:3/4;grid-template-columns:1fr}.spine{display:none}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="bar">
      <div class="brand">Poké Haven · Recipes</div>
      <div class="pager" id="pager">1 / 1</div>
    </div>
    <section class="book" aria-label="Recipe book">
      <div class="spine"></div>
      <article class="page" id="left"></article>
      <article class="page" id="right"></article>
      <div class="nav">
        <button class="btn" id="prev" aria-label="Previous" title="Previous">
          <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <button class="btn" id="next" aria-label="Next" title="Next">
          <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </div>
    </section>
  </div>
  <script>
    const TOTAL_PAGES = 18;
    const files = Array.from({ length: TOTAL_PAGES }, (_, i) => `${i + 1}.png`);
    const spreads = [];
    for (let i = 0; i < files.length; i += 2) spreads.push({ left: files[i], right: files[i + 1] || null });
    const $L = document.getElementById('left');
    const $R = document.getElementById('right');
    const $pager = document.getElementById('pager');
    const $prev = document.getElementById('prev');
    const $next = document.getElementById('next');
    let iSpread = 0;
    function renderSide(el, src) {
      el.innerHTML = '';
      const media = document.createElement('div');
      media.className = 'media';
      if (src) {
        const img = new Image();
        img.alt = '';
        img.src = `${src}?v=${Date.now()}`;
        img.onerror = () => { media.innerHTML = `<div class="fallback">Missing: ${src}</div>`; };
        media.append(img);
      } else {
        media.innerHTML = '<div class="fallback">—</div>';
      }
      media.style.gridRow = '1 / -1';
      media.style.height = '100%';
      media.style.width = '100%';
      el.append(media);
    }
    function render() {
      const s = spreads[iSpread] || {};
      renderSide($L, s.left);
      renderSide($R, s.right);
      if (matchMedia('(max-width: 800px)').matches) { $R.style.visibility = 'hidden'; $R.innerHTML = ''; } else { $R.style.visibility = ''; }
      $pager.textContent = `${iSpread + 1} / ${spreads.length}`;
      $prev.disabled = iSpread === 0;
      $next.disabled = iSpread >= spreads.length - 1;
    }
    function next() { if (iSpread < spreads.length - 1) { iSpread++; render(); } }
    function prev() { if (iSpread > 0) { iSpread--; render(); } }
    $next.addEventListener('click', next);
    $prev.addEventListener('click', prev);
    window.addEventListener('keydown', e => { if (e.key === 'ArrowRight') next(); if (e.key === 'ArrowLeft') prev(); });
    window.addEventListener('resize', render);
    files.forEach(src => { const im = new Image(); im.src = src; });
    render();
  </script>
</body>
</html>
